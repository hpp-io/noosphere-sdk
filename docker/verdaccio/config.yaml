# =============================================================================
# Verdaccio - Local npm Registry Configuration
# =============================================================================
#
# This configuration enables a local npm registry for development/testing.
# @noosphere/* packages are served locally, all others proxy to npmjs.
#
# =============================================================================

storage: /verdaccio/storage
plugins: /verdaccio/plugins

web:
  title: Noosphere Local Registry
  enable: true

auth:
  htpasswd:
    file: /verdaccio/storage/htpasswd
    max_users: 100

uplinks:
  npmjs:
    url: https://registry.npmjs.org/
    cache: true

packages:
  # @noosphere/* packages - local only, no proxy
  '@noosphere/*':
    access: $all
    publish: $all
    unpublish: $all
    # Don't proxy to npmjs - use local only

  # All other packages - proxy to npmjs
  '**':
    access: $all
    publish: $authenticated
    unpublish: $authenticated
    proxy: npmjs

# Logging
logs:
  - { type: stdout, format: pretty, level: info }

# Listen on all interfaces
listen:
  - 0.0.0.0:4873

# Max body size for publishing
max_body_size: 100mb
